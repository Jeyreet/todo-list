import{r as u,j as a,c as g}from"./index-BCEI--hm.js";import{a as w,i as c}from"./Input.module-Bm68ZGlj.js";const F="_inputs_1a7si_1",K="_input_1a7si_1",y={inputs:F,input:K},G=({name:p,control:m,rules:f,label:x,autoFocus:v,precision:n=0})=>{const{field:{onChange:_,onBlur:i,value:o},fieldState:{error:s}}=w({name:p,control:m,rules:f,defaultValue:0}),k=(e,t)=>{const j=e.toString(),D=j.length,z=j.slice(0,D-t),b=j.slice(-t);return[z,b==="0"||b==="00"?"":b]},[r,N]=u.useState(()=>k(o,n)[0]),[S,$]=u.useState(()=>k(o,n)[1]),h=u.useRef(null),l=u.useRef(null),R=e=>{let t=e.target.value.replace(",",".");t.includes(".")&&(l.current.focus(),l.current.setSelectionRange(0,0)),t=t.replace(/^(-?)0*(\d+)/,"$1$2").replace(/[^\d.-]/g,"").replace(/(?!^)-/g,"").split(".")[0],/^0+$/.test(t)&&(t=""),N(t)},B=e=>{let t=e.target.value.replace(/\D/g,"");t.length>n&&(t=t.slice(0,n)),t.length&&(t=t.padStart("0",n)),$(t)},C=e=>{/^0+$/.test(e.target.value)&&(e.target.value=""),document.activeElement!==l.current&&i()},E=e=>{/^0+$/.test(e.target.value)?e.target.value="":e.target.value&&(e.target.value=e.target.value.padEnd(n,"0")),document.activeElement!==h.current&&i()},I=e=>{e.key==="ArrowRight"&&e.target.selectionStart===e.target.value.length&&setTimeout(()=>{l.current.focus(),l.current.setSelectionRange(0,0)},0)},V=e=>{(e.key==="Backspace"||e.key==="ArrowLeft")&&e.target.selectionStart===0&&e.target.selectionEnd===0&&(e.key==="Backspace"&&N(t=>t.slice(0,-1)),setTimeout(()=>{h.current.focus(),h.current.setSelectionRange(r.length,r.length)},0))};return u.useEffect(()=>{_(+`${r||"0"}.${S||0}`)},[r,S]),a.jsxs("label",{className:c.Input,children:[a.jsxs("div",{className:c.name,children:[a.jsx("span",{children:x}),a.jsx("span",{children:(s==null?void 0:s.message)&&` (${s.message})`})]}),a.jsxs("div",{className:y.inputs,children:[a.jsx("input",{type:"text",inputMode:"decimal",className:g(c.input,y.input),onChange:R,onBlur:C,onKeyDown:I,value:r,placeholder:"0",autoFocus:v,ref:h}),a.jsx("input",{type:"text",inputMode:"decimal",className:g(c.input,y.input),onChange:B,onBlur:E,onKeyDown:V,value:S,placeholder:"0".repeat(n),ref:l,style:{"--precision":n,display:n===0?"none":"block"}})]})]})},A="_Switch_1eclz_1",M="_checkbox_1eclz_6",P="_thumb_1eclz_13",T="_name_1eclz_19",d={Switch:A,checkbox:M,thumb:P,name:T},H=({name:p,control:m,rules:f,label:x,autoFocus:v})=>{const{field:{onChange:n,onBlur:_,value:i,ref:o},fieldState:{error:s}}=w({name:p,control:m,rules:f,defaultValue:!1});return a.jsxs("label",{className:g(d.Switch,c.Input),children:[a.jsx("input",{className:"visually-hidden",type:"checkbox",checked:i,onChange:n,onBlur:_,ref:o,autoFocus:v}),a.jsxs("div",{className:g(d.name,c.name),children:[a.jsx("span",{children:x}),a.jsx("span",{children:(s==null?void 0:s.message)&&` (${s.message})`})]}),a.jsx("div",{className:d.checkbox,children:a.jsx("div",{className:d.thumb})})]})};export{G as N,H as S};
