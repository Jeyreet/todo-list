import{u as o,r as b,f as r,j as e,m as d,B as i}from"./index-DQvqQxX3.js";import{T as S}from"./arrow_round-DitSO1LX.js";import{A}from"./AreaInput-BNp1c9Sx.js";import{D as m,i as T,a as k}from"./isSameOrAfter-DEP4Dt3y.js";import{u as O}from"./Input.module-D9W5f3c7.js";r.extend(T);r.extend(k);const D=()=>{const c=o(s=>s.isModalOpen),n=o(s=>s.closeModal),u=o(s=>s.addTask),{control:a,formState:{isValid:f},handleSubmit:x,watch:l,setValue:p}=O({mode:"onChange",defaultValues:{name:""}}),j=s=>{n(),u(s)},t=l("start"),h=l("end");return b.useEffect(()=>{r(h).isBefore(t)&&p("end",t)},[t]),e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:x(j),children:[e.jsxs("div",{className:d.scroller,children:[e.jsx(S,{name:"name",label:"Название",rules:{required:"обязательное"},autoFocus:c,control:a}),e.jsx(A,{name:"desc",label:"Описание",control:a}),e.jsx(m,{name:"start",label:"Начало",control:a}),e.jsx(m,{name:"end",label:"Конец",rules:{validate:s=>s?r(s).isSameOrAfter(t)||"не может быть раньше начала":!0},control:a})]}),e.jsxs("div",{className:d.actions,children:[e.jsx(i,{visualDisabled:!f,type:"submit",children:"Добавить"}),e.jsx(i,{onClick:n,secondary:!0,children:"Отмена"})]})]})})};export{D as default};
