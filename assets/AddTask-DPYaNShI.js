import{u as r,f as a,j as s,m as l,B as d}from"./index-BKDHCSi8.js";import{T as b}from"./arrow_round-D-V5ecJG.js";import{A as M}from"./AreaInput-B5enlyyM.js";import{D as i,i as Y,a as D}from"./isSameOrAfter-CCJI6wsI.js";import{u as S}from"./Input.module-CKV_7ayk.js";a.extend(Y);a.extend(D);const B=()=>{const m=r(e=>e.isModalOpen),o=r(e=>e.closeModal),u=r(e=>e.addTask),{control:t,formState:{isValid:c},handleSubmit:f,watch:n,setValue:x}=S({mode:"onChange",defaultValues:{start:a().format("YYYY-MM-DD"),end:a().format("YYYY-MM-DD")}}),j=e=>{o(),u(e)},p=n("start"),h=n("end");return s.jsx(s.Fragment,{children:s.jsxs("form",{onSubmit:f(j),children:[s.jsxs("div",{className:l.scroller,children:[s.jsx(b,{name:"name",label:"Название",rules:{required:"обязательное"},autoFocus:m,control:t}),s.jsx(M,{name:"desc",label:"Описание",control:t}),s.jsx(i,{name:"start",label:"Начало",rules:{validate:e=>(a(h).isBefore(e)&&x("end",e),!0)},control:t}),s.jsx(i,{name:"end",label:"Конец",rules:{validate:e=>a(e).isSameOrAfter(p)||"не может быть раньше начала"},control:t})]}),s.jsxs("div",{className:l.actions,children:[s.jsx(d,{visualDisabled:!c,type:"submit",children:"Добавить"}),s.jsx(d,{onClick:o,secondary:!0,children:"Отмена"})]})]})})};export{B as default};
