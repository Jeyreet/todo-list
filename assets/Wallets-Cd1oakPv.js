const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ModifyWallet-Bbyif1cX.js","assets/index-Dfo-hmLY.js","assets/index-1k4ZcwBx.css","assets/DateInputContext-BFQBMVst.js","assets/Input.module-BLrME7xD.js","assets/Input-BAbuYIVS.css","assets/DateInputContext-CwgIJilR.css","assets/Switch-Cue0Iish.js","assets/Switch-CVEpGPlQ.css","assets/RemoveWallet-B_FzkSmH.js","assets/AddWallet-Ds-c6fVQ.js"])))=>i.map(i=>d[i]);
import{u as d,j as e,B as u,r as a,_ as x,T as g,a as w,C as R,b as k}from"./index-Dfo-hmLY.js";const P="_Wallet_dkvgj_1",B="_info_dkvgj_9",N="_name_dkvgj_15",b="_actions_dkvgj_18",r={Wallet:P,info:B,name:N,actions:b},h=a.lazy(()=>new Promise(s=>setTimeout(()=>s(x(()=>import("./ModifyWallet-Bbyif1cX.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),1e3))),W=a.lazy(()=>new Promise(s=>setTimeout(()=>s(x(()=>import("./RemoveWallet-B_FzkSmH.js"),__vite__mapDeps([9,1,2]))),1e3))),A=({id:s,name:m,balance:o,main:l})=>{const i=d(n=>n.openModal),_=async()=>{await h,i({title:"Изменить",body:e.jsx(h,{id:s}),width:"350px"})},t=async()=>{await W,i({title:"Удалить",body:e.jsx(W,{id:s}),maxWidth:"400px"})};return e.jsxs("div",{className:r.Wallet,children:[e.jsxs("div",{className:r.info,children:[e.jsx("h3",{className:r.name,children:m}),e.jsxs("p",{children:[(o/100).toLocaleString("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2})," ₽"]}),l&&e.jsx("p",{children:"Основной"})]}),e.jsxs("div",{className:r.actions,children:[e.jsx(u,{onClick:_,children:"Изменить"}),e.jsx(u,{onClick:t,children:"Удалить"})]})]})},M="_addWalletButton_o76b0_1",f={addWalletButton:M},v=a.lazy(()=>new Promise(s=>setTimeout(()=>s(x(()=>import("./AddWallet-Ds-c6fVQ.js"),__vite__mapDeps([10,1,2,3,4,5,6,7,8]))),1e3))),D=()=>{const s=d(t=>t.openModal),m=d(t=>t.setHeaderTitle),o=d(t=>t.wallets.value),[l,i]=a.useState(o);a.useEffect(()=>{m("Счета")},[]),a.useEffect(()=>{i(o.map(t=>({...t,isNew:!l.filter(n=>n.id===t.id).length})))},[o]);const _=async()=>{await v,s({title:"Добавить счет",body:e.jsx(v,{}),width:"350px"})};return e.jsxs(e.Fragment,{children:[e.jsx(g,{component:"ul",className:f.Wallets,children:l.map(({id:t,name:n,balance:T,main:y,isNew:E})=>{const p=a.createRef(),c=a.createRef();return e.jsx(w,{timeout:300,nodeRef:p,onExit:()=>{var j;return(j=c==null?void 0:c.current)==null?void 0:j.close()},children:e.jsx("li",{ref:p,children:e.jsx(R,{ref:c,smoothAppear:E,children:e.jsx(A,{id:t,name:n,balance:T,main:y})})})},t)})}),!l.length&&e.jsx(k,{children:"Счетов не найдено"}),e.jsx(u,{className:f.addWalletButton,onClick:_,children:"Добавить счет"})]})};export{D as default};
