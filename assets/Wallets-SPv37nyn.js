const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ModifyWallet-BPMg04j1.js","assets/index-BKDHCSi8.js","assets/index-Df_9bemJ.css","assets/arrow_round-D-V5ecJG.js","assets/Input.module-CKV_7ayk.js","assets/Input-BAbuYIVS.css","assets/arrow_round-BMu8Erl2.css","assets/Switch-BvvBPZWo.js","assets/Switch-CVEpGPlQ.css","assets/RemoveWallet-1qxu1g0a.js","assets/AddWallet-Dm0guSdm.js"])))=>i.map(i=>d[i]);
import{u as d,j as e,B as u,F as y,a as E,r as a,_ as x,T as g,b as N,C as b,c as k,d as P}from"./index-BKDHCSi8.js";const B="_Wallet_dkvgj_1",F="_info_dkvgj_9",A="_name_dkvgj_15",M="_actions_dkvgj_18",r={Wallet:B,info:F,name:A,actions:M},h=a.lazy(()=>new Promise(s=>setTimeout(()=>s(x(()=>import("./ModifyWallet-BPMg04j1.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),1e3))),f=a.lazy(()=>new Promise(s=>setTimeout(()=>s(x(()=>import("./RemoveWallet-1qxu1g0a.js"),__vite__mapDeps([9,1,2]))),1e3))),C=({id:s,name:m,balance:o,main:n})=>{const i=d(l=>l.openModal),_=async()=>{await h,i({title:"Изменить счет",body:e.jsx(h,{id:s}),width:"350px"})},t=async()=>{await f,i({title:"Подтверждение",body:e.jsx(f,{id:s}),maxWidth:"400px"})};return e.jsxs("div",{className:r.Wallet,children:[e.jsxs("div",{className:r.info,children:[e.jsx("h3",{className:r.name,children:m}),e.jsxs("p",{children:[(o/100).toLocaleString("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2})," ₽"]}),n&&e.jsx("p",{children:"Основной"})]}),e.jsxs("div",{className:r.actions,children:[e.jsx(u,{onClick:_,children:e.jsx(y,{className:"icon icon--button"})}),e.jsx(u,{onClick:t,children:e.jsx(E,{className:"icon icon--button"})})]})]})},D="_addWalletButton_o76b0_1",W={addWalletButton:D},v=a.lazy(()=>new Promise(s=>setTimeout(()=>s(x(()=>import("./AddWallet-Dm0guSdm.js"),__vite__mapDeps([10,1,2,3,4,5,6,7,8]))),1e3))),$=()=>{const s=d(t=>t.openModal),m=d(t=>t.setHeaderTitle),o=d(t=>t.wallets.value),[n,i]=a.useState(o);a.useEffect(()=>{m("Счета")},[]),a.useEffect(()=>{i(o.map(t=>({...t,isNew:!n.filter(l=>l.id===t.id).length})))},[o]);const _=async()=>{await v,s({title:"Добавить счет",body:e.jsx(v,{}),width:"350px"})};return e.jsxs(e.Fragment,{children:[e.jsx(g,{component:"ul",className:W.Wallets,children:n.map(({id:t,name:l,balance:w,main:R,isNew:T})=>{const j=a.createRef(),c=a.createRef();return e.jsx(N,{timeout:300,nodeRef:j,onExit:()=>{var p;return(p=c==null?void 0:c.current)==null?void 0:p.close()},children:e.jsx("li",{ref:j,children:e.jsx(b,{ref:c,smoothAppear:T,children:e.jsx(C,{id:t,name:l,balance:w,main:R})})})},t)})}),!n.length&&e.jsx(k,{children:"Счетов не найдено"}),e.jsx(u,{className:W.addWalletButton,onClick:_,children:e.jsx(P,{className:"icon icon--button"})})]})};export{$ as default};
