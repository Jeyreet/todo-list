import{r as u,j as a,c as g}from"./index-Dfo-hmLY.js";import{a as $,i as c}from"./Input.module-BLrME7xD.js";const F="_inputs_1a7si_1",K="_input_1a7si_1",k={inputs:F,input:K},G=({name:p,control:m,rules:f,label:x,autoFocus:v,precision:n=0})=>{const{field:{onChange:_,onBlur:i,value:o},fieldState:{error:s}}=$({name:p,control:m,rules:f,defaultValue:0}),b=(e,t)=>{const j=e.toString(),V=j.length,z=j.slice(0,V-t),y=j.slice(-t);return[z,y==="0"||y==="00"?"":y]},[r,N]=u.useState(()=>b(o,n)[0]),[S,w]=u.useState(()=>b(o,n)[1]),d=u.useRef(null),l=u.useRef(null),E=e=>{let t=e.target.value.replace(",",".");t.includes(".")&&(l.current.focus(),l.current.setSelectionRange(0,0)),t=t.replace(/^(-?)0*(\d+)/,"$1$2").replace(/[^\d.-]/g,"").replace(/(?!^)-/g,"").split(".")[0],/^0+$/.test(t)&&(t=""),N(t)},R=e=>{let t=e.target.value.replace(/\D/g,"");t.length>n&&(t=t.slice(0,n)),t.length&&(t=t.padStart("0",n)),w(t)},B=e=>{/^0+$/.test(e.target.value)&&(e.target.value=""),document.activeElement!==l.current&&i()},C=e=>{/^0+$/.test(e.target.value)?e.target.value="":e.target.value&&(e.target.value=e.target.value.padEnd(n,"0")),document.activeElement!==d.current&&i()},D=e=>{(e.key==="Delete"||e.key==="ArrowRight")&&e.target.selectionStart===e.target.value.length&&e.target.selectionEnd===e.target.value.length&&(e.key==="Delete"&&w(t=>t.slice(1)),setTimeout(()=>{l.current.focus(),l.current.setSelectionRange(0,0)},0))},I=e=>{(e.key==="Backspace"||e.key==="ArrowLeft")&&e.target.selectionStart===0&&e.target.selectionEnd===0&&(e.key==="Backspace"&&N(t=>t.slice(0,-1)),setTimeout(()=>{d.current.focus(),d.current.setSelectionRange(r.length,r.length)},0))};return u.useEffect(()=>{_(+`${r||""}${S.padEnd(n,"0")}`)},[r,S]),a.jsxs("label",{className:c.Input,children:[a.jsxs("div",{className:c.name,children:[a.jsx("span",{children:x}),a.jsx("span",{children:(s==null?void 0:s.message)&&` (${s.message})`})]}),a.jsxs("div",{className:k.inputs,children:[a.jsx("input",{type:"text",inputMode:"decimal",className:g(c.input,k.input),onChange:E,onBlur:B,onKeyDown:D,value:r,placeholder:"0",autoFocus:v,ref:d}),a.jsx("input",{type:"text",inputMode:"decimal",className:g(c.input,k.input),onChange:R,onBlur:C,onKeyDown:I,value:S,placeholder:"0".repeat(n),ref:l,style:{"--precision":n,display:n===0?"none":"block"}})]})]})},A="_Switch_1eclz_1",M="_checkbox_1eclz_6",P="_thumb_1eclz_13",T="_name_1eclz_19",h={Switch:A,checkbox:M,thumb:P,name:T},H=({name:p,control:m,rules:f,label:x,autoFocus:v})=>{const{field:{onChange:n,onBlur:_,value:i,ref:o},fieldState:{error:s}}=$({name:p,control:m,rules:f,defaultValue:!1});return a.jsxs("label",{className:g(h.Switch,c.Input),children:[a.jsx("input",{className:"visually-hidden",type:"checkbox",checked:i,onChange:n,onBlur:_,ref:o,autoFocus:v}),a.jsxs("div",{className:g(h.name,c.name),children:[a.jsx("span",{children:x}),a.jsx("span",{children:(s==null?void 0:s.message)&&` (${s.message})`})]}),a.jsx("div",{className:h.checkbox,children:a.jsx("div",{className:h.thumb})})]})};export{G as N,H as S};
