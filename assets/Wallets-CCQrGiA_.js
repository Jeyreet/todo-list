const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ModifyWallet-Cn2jDWIb.js","assets/index-8MgR8TBQ.js","assets/index-miwr050R.css","assets/calendar-B-PNqM_L.js","assets/calendar-BMu8Erl2.css","assets/Switch-D2IAFPpe.js","assets/Switch-CVEpGPlQ.css","assets/RemoveWallet-DNtVlRoy.js","assets/AddWallet-cm2PpuAK.js"])))=>i.map(i=>d[i]);
import{u as d,j as e,B as _,F as y,a as E,r as a,_ as u,T as g,b as N,C as b,c as k,d as P}from"./index-8MgR8TBQ.js";const B="_Wallet_dkvgj_1",F="_info_dkvgj_9",A="_name_dkvgj_15",M="_actions_dkvgj_18",r={Wallet:B,info:F,name:A,actions:M},h=a.lazy(()=>new Promise(s=>setTimeout(()=>s(u(()=>import("./ModifyWallet-Cn2jDWIb.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),1e3))),f=a.lazy(()=>new Promise(s=>setTimeout(()=>s(u(()=>import("./RemoveWallet-DNtVlRoy.js"),__vite__mapDeps([7,1,2]))),1e3))),C=({id:s,name:m,balance:o,main:n})=>{const i=d(l=>l.openModal),x=async()=>{await h,i({title:"Изменить счет",body:e.jsx(h,{id:s}),width:"350px"})},t=async()=>{await f,i({title:"Подтверждение",body:e.jsx(f,{id:s}),maxWidth:"400px"})};return e.jsxs("div",{className:r.Wallet,children:[e.jsxs("div",{className:r.info,children:[e.jsx("h3",{className:r.name,children:m}),e.jsxs("p",{children:[(o/100).toLocaleString("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2})," ₽"]}),n&&e.jsx("p",{children:"Основной"})]}),e.jsxs("div",{className:r.actions,children:[e.jsx(_,{onClick:x,children:e.jsx(y,{className:"icon icon--button"})}),e.jsx(_,{onClick:t,children:e.jsx(E,{className:"icon icon--button"})})]})]})},D="_addWalletButton_51hzm_1",W={addWalletButton:D},v=a.lazy(()=>new Promise(s=>setTimeout(()=>s(u(()=>import("./AddWallet-cm2PpuAK.js"),__vite__mapDeps([8,1,2,3,4,5,6]))),1e3))),L=()=>{const s=d(t=>t.openModal),m=d(t=>t.setHeaderTitle),o=d(t=>t.wallets.value),[n,i]=a.useState(o);a.useEffect(()=>{m("Счета")},[]),a.useEffect(()=>{i(o.map(t=>({...t,isNew:!n.filter(l=>l.id===t.id).length})))},[o]);const x=async()=>{await v,s({title:"Добавить счет",body:e.jsx(v,{}),width:"350px"})};return e.jsxs(e.Fragment,{children:[e.jsx(g,{component:"ul",className:W.Wallets,children:n.map(({id:t,name:l,balance:w,main:R,isNew:T})=>{const j=a.createRef(),c=a.createRef();return e.jsx(N,{timeout:300,nodeRef:j,onExit:()=>{var p;return(p=c==null?void 0:c.current)==null?void 0:p.close()},children:e.jsx("li",{ref:j,children:e.jsx(b,{ref:c,smoothAppear:T,children:e.jsx(C,{id:t,name:l,balance:w,main:R})})})},t)})}),!n.length&&e.jsx(k,{children:"Счетов не найдено"}),e.jsx("div",{className:W.addWalletButton,children:e.jsx(_,{onClick:x,children:e.jsx(P,{className:"icon icon--button"})})})]})};export{L as default};
