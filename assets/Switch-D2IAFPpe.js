import{p as $,r as u,j as n,n as c,e as g}from"./index-8MgR8TBQ.js";const F="_inputs_1a7si_1",K="_input_1a7si_1",k={inputs:F,input:K},q=({name:p,control:f,rules:m,label:x,autoFocus:v,precision:a=0})=>{const{field:{onChange:_,onBlur:i,value:o},fieldState:{error:s}}=$({name:p,control:f,rules:m,defaultValue:0}),b=(e,t)=>{const j=e.toString(),V=j.length,z=j.slice(0,V-t),y=j.slice(-t);return[z,y==="0"||y==="00"?"":y]},[r,N]=u.useState(()=>b(o,a)[0]),[S,w]=u.useState(()=>b(o,a)[1]),d=u.useRef(null),l=u.useRef(null),E=e=>{let t=e.target.value.replace(",",".");t.includes(".")&&(l.current.focus(),l.current.setSelectionRange(0,0)),t=t.replace(/^(-?)0*(\d+)/,"$1$2").replace(/[^\d.-]/g,"").replace(/(?!^)-/g,"").split(".")[0],/^0+$/.test(t)&&(t=""),N(t)},R=e=>{let t=e.target.value.replace(/\D/g,"");t.length>a&&(t=t.slice(0,a)),t.length&&(t=t.padStart("0",a)),w(t)},B=e=>{/^0+$/.test(e.target.value)&&(e.target.value=""),document.activeElement!==l.current&&i()},C=e=>{/^0+$/.test(e.target.value)?e.target.value="":e.target.value&&(e.target.value=e.target.value.padEnd(a,"0")),document.activeElement!==d.current&&i()},D=e=>{(e.key==="Delete"||e.key==="ArrowRight")&&e.target.selectionStart===e.target.value.length&&e.target.selectionEnd===e.target.value.length&&(e.key==="Delete"&&w(t=>t.slice(1)),setTimeout(()=>{l.current.focus(),l.current.setSelectionRange(0,0)},0))},I=e=>{(e.key==="Backspace"||e.key==="ArrowLeft")&&e.target.selectionStart===0&&e.target.selectionEnd===0&&(e.key==="Backspace"&&N(t=>t.slice(0,-1)),setTimeout(()=>{d.current.focus(),d.current.setSelectionRange(r.length,r.length)},0))};return u.useEffect(()=>{_(+`${r||""}${S.padEnd(a,"0")}`)},[r,S]),n.jsxs("label",{className:c.Input,children:[n.jsxs("div",{className:c.name,children:[n.jsx("span",{children:x}),n.jsx("span",{children:(s==null?void 0:s.message)&&` (${s.message})`})]}),n.jsxs("div",{className:k.inputs,children:[n.jsx("input",{type:"text",inputMode:"decimal",className:g(c.input,k.input),onChange:E,onBlur:B,onKeyDown:D,value:r,placeholder:"0",autoFocus:v,ref:d}),n.jsx("input",{type:"text",inputMode:"decimal",className:g(c.input,k.input),onChange:R,onBlur:C,onKeyDown:I,value:S,placeholder:"0".repeat(a),ref:l,style:{"--precision":a,display:a===0?"none":"block"}})]})]})},A="_Switch_1eclz_1",M="_checkbox_1eclz_6",P="_thumb_1eclz_13",T="_name_1eclz_19",h={Switch:A,checkbox:M,thumb:P,name:T},G=({name:p,control:f,rules:m,label:x,autoFocus:v})=>{const{field:{onChange:a,onBlur:_,value:i,ref:o},fieldState:{error:s}}=$({name:p,control:f,rules:m,defaultValue:!1});return n.jsxs("label",{className:g(h.Switch,c.Input),children:[n.jsx("input",{className:"visually-hidden",type:"checkbox",checked:i,onChange:a,onBlur:_,ref:o,autoFocus:v}),n.jsxs("div",{className:g(h.name,c.name),children:[n.jsx("span",{children:x}),n.jsx("span",{children:(s==null?void 0:s.message)&&` (${s.message})`})]}),n.jsx("div",{className:h.checkbox,children:n.jsx("div",{className:h.thumb})})]})};export{q as N,G as S};
